<!DOCTYPE html>
<html style="max-height: 100%; overflow-y: auto;">
  <head>
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet"/>
    <link href="https://cdn.jsdelivr.net/npm/@mdi/font@6.x/css/materialdesignicons.min.css" rel="stylesheet"/>
    <link href="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="style.css">
    <title>Inventory App</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui"/>
  </head>

  <body>
    <div id="app" v-cloak>
      <v-app >
        <!--========= Page Card ==============-->
        <v-card v-bind:class="{'logIn': !loggedIn}"  >

          <!-- ==============login page============= -->
          <v-container fluid v-if="!loggedIn">
            <v-row justify="center" style="height: 100vh" >
              <v-col class="fill-height d-flex flex-column justify-center align-center" cols="auto">
                <v-card class="mx-auto my-auto" width="500px">
                  <!-- <v-row > -->
                  <h1 class="py-6 px-5 deep-purple lighten-2 text-center">Login</h1>
                  <!-- </v-row> -->
                  <v-row class="px-8 mt-4 mb-2">
                    <v-icon class="mr-2"> mdi-account-box</v-icon>
                    <v-text-field color="deep-purple lighten-2" type="text" placeholder="Username" v-model="username">
                  </v-row>
                  <v-row class="px-8 mb-2">
                    <v-icon class="mr-2">
                      mdi-lock
                    </v-icon>
                    <v-text-field color="deep-purple lighten-2" type="password" placeholder="Password" v-model="password" autofocus @keypress.enter="login(username, password)">
                  </v-row>
                  <v-row>
                    <v-btn class="mx-16 mb-8" @click="login(username, password)">Login</button>
                  </v-row>
                  <v-row class="justify-center" v-show="invalidLogin">
                    <v-alert type="error" dismissible>
                      {{ loggedMessage}}
                    Invalid Attempt {{ incorrectLoginAttempts }}
                    </v-alert>
                  </v-row>
                </v-card>
                <v-btn href="mailto:d00439987@dmail.dixie.edu" class="grey white--text"><h3>Contact Us</h3></v-btn>          
              </v-col>
            </v-row>
          </v-container>
          
          <!--===== Nav & Menu bar with image =====-->
          <v-container v-show="loggedIn" fluid id="scrolling-techniques-3" style="max-height: 100vh; overflow-y: auto;">
            <v-app-bar absolute color="#6A76AB" 
                      dark 
                      shrink-on-scroll 
                      prominent
                      src="https://images.alphacoders.com/265/265693.png" 
                      fade-img-on-scroll
                      scroll-target="#scrolling-techniques-3"
                      app>
              <!-- Gradient Template -->
              <template v-slot:img="{ props }">
                <v-img v-bind="props"
                      gradient="to top right, rgba(100,115,201,.7), rgba(25,32,72,.7)">
                </v-img>
              </template>

              <!-- PlaceHolder for future expansion menu -->
              <!-- <v-app-bar-nav-icon></v-app-bar-nav-icon> -->

              <v-btn icon disabled>
                <v-icon>mdi-cards</v-icon>
              </v-btn>

              <!-- Current Page title -->
              <v-app-bar-title class="float-left pr-10 ml-2 font-weight-black">{{ currentPage }}</v-app-bar-title>
              
              <v-spacer></v-spacer>

              <v-app-bar-title>{{  username }}</v-app-bar-title>
              

              <v-btn href="mailto:d00439987@dmail.dixie.edu" icon>
                <v-icon>mdi-email</v-icon>
              </v-btn>
        
              <!-- <v-btn icon>
                <v-icon>mdi-account-box </v-icon>
              </v-btn> -->

              <v-btn icon @Click="loggedIn = false">
                <v-icon>mdi-logout</v-icon>
              </v-btn>

              <!--=== Template for tabs ===-->
              <template v-slot:extension>

                <!-- For loop going through pages (list of pages) and into tab -->
                <v-tabs v-for="(tab, index) in pages" align-with-title grow hide-slider>
                  <!-- Display component of each tab with on click and highlight after selection -->
                  <v-tab @Click="currentPage = tab; inStore = false; currentTable = 'active';" class="rounded-lg rounded-b-0"
                        v-bind:class="{ 'blue-grey lighten-4 deep-purple--text lighten-3 disabled' : currentPage === tab}">
                    <v-badge v-if="tab == 'View Orders' && orderList.length > 0"
                          color="deep-purple lighten-2"
                          :content="orderList.length">
                          {{ tab }}
                    </v-badge>
                    <v-badge v-else color="rgba(255, 0, 0, 0.0)">
                          {{ tab }}
                    </v-badge>
                    
                  </v-tab>
                </v-tabs>
              </template>
            </v-app-bar>

            <!--====== Main page content in main card component ======-->
            <main >
            <!-- Change max-height to auto to disable scroll header and remove 2nd scroll -->
              <v-sheet
                    style="margin-top: 225px;"
                    max-height="auto">
                
                <v-container  style="height: 650px;">

                  <!--======= Inventory Page =======-->

                  <!-- Search Container for Inventory Page-->
                  <v-container v-if="currentPage == 'Inventory'">
                    <!-- Container for Inventory Search Area -->
                    <v-container>
                      <v-row >
                        <v-col>
                          <!-- Search Inventory Text Input field -->
                          <v-text-field color="deep-purple lighten-2" outlined autofocus  hide-details label="Search for a Card" placeholder="Cards in Inventory" v-model="searchString"></v-text-field>
                        </v-col>
                        <v-col>
                          <!-- Submit Inventory Search Button-->
                          <v-btn class="mt-2" @click="searchInventory">Submit</v-btn>
                        </v-col>
                        <!-- Fun Data to Display -->
                        <v-col>
                          
                          <h2><v-icon>
                            mdi-currency-usd
                          </v-icon>{{ checkInventoryValue(cardList) }}</h2>
                        </v-col>
                        <v-col>
                          
                          <h2><v-icon>
                            mdi-cards-outline
                          </v-icon>{{ getTotalCards(cardList) }}</h2>
                        </v-col>
                      </v-row>
                    </v-container>
                    <!-- Search Results displayed using small image uri from scryfall -->
                    <!-- <v-row>
                      <v-col class="pr-0 pl-3" cols="auto" v-for="item, index in cardList">                      
                        <v-card min-width="146" class="mx-4">

                          <v-img
                              height="204"
                              :src="item.image_uris.small"
                              contain>
                          </v-img>
                  
                        </v-card>
                      </v-col>
                    </v-row>  -->
                    
                    <!-- ================Page Info Dialog Page ===================== -->
                  <template>
                    <div class="text-center">
                      <v-dialog
                        v-model="dialog"
                        width="800"
                      >
                        <template v-slot:activator="{ on, attrs }">
                        
                          <v-row>
                            <v-col class="pr-0 pl-3" cols="auto" v-for="(item, index) in cardList">                      
                              <v-card min-width="146" class="mx-4">
      
                                <v-img
                                    @click="cardInfo = item; indCardInfo(cardInfo.cards[0]);"
                                    v-bind="attrs"
                                    v-on="on"
                                    height="204"
                                    :src="item.image_uris.small"
                                    contain>
                                </v-img>
                        
                              </v-card>
                            </v-col>
                          </v-row> 
                        </template>
                  
                        <v-card v-if="cardInfo" height="fit-content">
                          <v-container>
                              <v-row>
                                <v-col>
                          
                          <v-card-title class="text-h5 grey lighten-2 justify-center">
                            {{cardInfo.name}}
                            
                          </v-card-title>
                                </v-col>
                        </v-row>
                        <v-row>
                          <!-- <v-col> -->
                            <v-sheet width="550" 
                            v-scroll.self="onScroll"
                            class="overflow-y-auto"
                            max-height="400"
                            >
                        <v-col width="550">
                        <v-row>
                          
                          
                          <v-col v-for="(cards, index) in cardInfo.cards">
                          <v-img v-if="cardInfo.cards.length == 1" class="mb-6 justify-center" :src="cardInfo.image_uris.normal" max-height="350" contain></v-img>
                          <v-img v-if="cardInfo.cards.length > 1" class="" @click="indCardInfo(cardInfo.cards[index])" :src="cardInfo.image_uris.small" contain max-height="250"></v-img>
                        
                          </v-col>
                        
                        </v-row>
                          </v-col>
                        </v-sheet>
                        <v-divider vertical></v-divider>
                          
                            
                          <v-col width="250">
                            <v-card-text>
                              <b>Location: </b>{{indCard.location}}
                            </v-card-text>
                            <v-card-text>
                              <b>Condition: </b>{{indCard.condition}}
                            </v-card-text>
                            <v-card-text v-if="indCard.foil">
                              <b>Foil: </b>Yes
                            </v-card-text>
                            <v-card-text v-else>
                              <b>Foil: </b>No
                            </v-card-text>
                          <v-card-text v-if="indCard.price == null || indCard.price == ''">
                            <b>Price Unavailable</b>
                          </v-card-text>
                          <v-card-text v-else>
                            <b>Price: </b>${{indCard.price}}
                          </v-card-text>
                          <v-card-text>
                            <b>Quantity: </b>{{cardInfo.quantity.physical}} <br> - <b>Available: </b>{{cardInfo.quantity.available}} <br> - <b>Reserved: </b>{{cardInfo.quantity.reserved}}
                          </v-card-text>
                          <!-- <v-card-text>
                            Scryfall Link: {{cardInfo.card.scryfall_uri}}
                          </v-card-text> -->
                          </v-col>
                        <!-- </v-col> -->
                        
                        </v-row>
                          </v-container>
                        
                  
                          <v-divider></v-divider>
                  
                          <v-card-actions>
                            <v-spacer></v-spacer>
                            <v-btn
                              color="primary"
                              text
                              @click="dialog = false"
                            >
                              Done
                            </v-btn>
                          </v-card-actions>
                        </v-card>
                        
                      </v-dialog>
                    </div>
                  </template>

                  </v-container>
                  

                  <!--===== Vuetify Add Card Page =====-->

                  <!--=== Add Card Page Vuetify Card ===-->
                  <v-card v-if="currentPage == 'Add Card'" class="pb-4 mx-1">
                    <!--= Sub Menu with Search/*Deck/Pile-Cart -->
                    <v-tabs grow slider-color="deep-purple lighten-2" class="rounded-lg blue-grey lighten-1">

                      <v-tab class="rounded-lg" @Click="addCardSubPage = 'Search'"
                        active-class="blue-grey lighten-4 deep-purple--text lighten-3 disabled">
                        Search
                      </v-tab>

                      <!-- <v-tab @Click="addCardSubPage = Deck" class="rounded-lg mx-2"
                        active-class="blue-grey lighten-4 deep-purple--text lighten-3 disabled">
                        Deck
                        </v-tab> -->
                      
                    
                      <v-tab @Click="addCardSubPage = 'Pile'; allPileHasLocations()" class="rounded-lg"
                          active-class="blue-grey lighten-4 deep-purple--text lighten-3 disabled">
                          <v-badge v-if="pileList.length > 0"
                            color="deep-purple lighten-2"
                            :content="pileList.length">
                          Pile
                        </v-badge>
                        <v-badge v-else color="rgba(255, 0, 0, 0.0)">
                          Pile
                        </v-badge>
                      </v-tab>
                      

                    </v-tabs>
                    <!--= Search subPage  =-->
                    <v-container v-if="addCardSubPage == 'Search'">
                      <!-- Search field container -->
                      <v-container>
                        <v-row>
                          <v-col cols="6">
                            <v-text-field color="deep-purple lighten-2" outlined label="Search for a Card" placeholder="Magic the Gathering Cards Only"
                                      v-model="searchName" @keypress.enter="getSearch()" 
                                      ref="searchInput"
                                      autofocus>
                            </v-text-field>
                          </v-col>
                          <v-col cols="auto">
                            <v-btn class="mt-2" @Click="getSearch()" >Submit</v-btn>
                          </v-col>
                          <v-col cols="auto">
                            <v-btn class="mt-2" @Click="getRandomCard()">Feeling Lucky</v-btn>
                          </v-col>
                          <v-col cols="auto">
                            <v-btn class="mt-2" @Click="resetAddCardSearch()">Reset</v-btn>
                          </v-col>
                        
                        
                        
                        </v-row>
                        <v-row>
                          <v-col>
                            <v-container align-content="center" v-if="searchResultsPaginated.length == 0">
                              <h3 align="center">No Results to Display</h3>
                            </v-container>
                          <v-alert
                          align="center"
                          v-model="badSearchAlert"
                          border="left"
                          close-text="Close Alert"
                          color="deep-purple accent-4"
                          dark
                          dismissible
                        >
                          No Results! Please try another search!
                        </v-alert>
                        </v-col>
                        </v-row>
                        
                      </v-container>
                      <v-row v-if="searchResults.length > 0"><v-container><v-col> Total Matching Cards: {{ this.searchResultsStats.total_cards }}</v-col></v-container></v-row>
                      <!-- Area to display search results for add card -->
                      <v-row>
                        
                        <!--****** the v-for of the search results list will go here -->
                        <v-col v-for="(result, resultIndex) in searchResultsPaginated" >
                          <!--****** Card template that will be displayed by v-for -->
                          <v-card width="146" class="mx-4">

                            <template slot="progress">
                              <v-progress-linear
                                    color="deep-purple"
                                    height="10"
                                    indeterminate>
                              </v-progress-linear>
                            </template>

                            <v-img
                                height="204"
                                :src="getSmallImgURI(result)">
                            </v-img>
                            
                            <v-card-text class="pt-1 pb-0">                     
                              
                              <!-- NM button on Add Card Search -->
                              <v-row>
                                <v-col class="pl-0" style="min-width: 30px; max-width: 48px;">
                                  <v-badge
                                        color="deep-purple lighten-2"
                                        :content="result.totalConditions.NM"
                                        :value="result.totalConditions.NM > 0"
                                        class="pl-0"
                                        offset-x="15"
                                        offset-y="12"
                                        left>
                                    <v-btn small rounded min-width="10" max-width="35" @click="addNMtoObject(result)" @click.ctrl="removeNMtoObject(result)">NM</v-btn>
                                  </v-badge>
                                </v-col>
                                <v-col style="min-width: 30px; max-width: 48px;">
                                  <v-badge
                                        color="deep-purple lighten-2"
                                        :content="result.totalConditions.LP"
                                        :value="result.totalConditions.LP > 0"
                                        class="pl-0"
                                        offset-x="15"
                                        offset-y="12"
                                        left>
                                    <v-btn small rounded min-width="10" max-width="35" @click="addLPtoObject(result)" @click.ctrl="removeLPtoObject(result)">LP</v-btn>
                                  </v-badge>
                                </v-col>                             
                                <v-col style="min-width: 30px; max-width: 48px;">
                                  <v-badge
                                        color="deep-purple lighten-2"
                                        :content="result.totalConditions.MP"
                                        :value="result.totalConditions.MP > 0"
                                        class="pl-0"
                                        offset-x="15"
                                        offset-y="12"
                                        left>
                                    <v-btn small rounded min-width="10" max-width="35" @click="addMPtoObject(result)" @click.ctrl="removeMPtoObject(result)">MP</v-btn>
                                  </v-badge>
                                </v-col>
                              </v-row>

                              <v-row>
                                <v-col class="pt-1" style="min-width: 30px; max-width: 70px;">
                                  <v-badge
                                        color="deep-purple lighten-2"
                                        :content="result.totalConditions.HP"
                                        :value="result.totalConditions.HP > 0"
                                        class="pl-0"
                                        offset-x="15"
                                        offset-y="12"
                                        left>
                                    <v-btn small rounded min-width="10" max-width="50" @click="addHPtoObject(result)" @click.ctrl="removeHPtoObject(result)">HP</v-btn>
                                  </v-badge>
                                </v-col>
                                <v-col class="pt-1" style="min-width: 30px; max-width: 70px;">
                                  <v-badge
                                        color="deep-purple lighten-2"
                                        :content="result.totalConditions.DMG"
                                        :value="result.totalConditions.DMG > 0"
                                        class="pl-0"
                                        offset-x="15"
                                        offset-y="12"
                                        left>
                                    <v-btn small rounded min-width="10" max-width="50" @click="addDMGtoObject(result)" @click.ctrl="removeDMGtoObject(result)">DMG</v-btn>
                                  </v-badge>
                                </v-col>
                              </v-row>

                              <!--=== Card Finishes ===-->
                              <v-row>
                              <v-divider></v-divider>
                              </v-row>
                              <v-card-text class="pt-2 pb-0">
                                <v-chip-group
                                
                                  active-class="deep-purple accent-4 white--text"
                                  column
                                  mandatory
                                  max="1">
                                  <v-chip v-for="(finish, index) in vFinishes(result.finishes, result)" @Click="updateCardFinish(resultIndex, finish)">{{ finish }}</v-chip>
                                  
                                </v-chip-group>
                              </v-card-text>
                              
                              <v-divider class="pb-1"></v-divider>
                              

                            </v-card-text>
                            <!-- Add Button on cards displayed in add to pile -->
                            <v-row class="mx-1 pb-0">
                              <v-col class="pb-1">
                              
                                <v-btn
                                  v-if="result.totalCards > 0"
                                  color="deep-purple lighten-2"
                                  text
                                  @click="addToPile(resultIndex)"
                                  width="100%"
                                  >
                                  Add
                                </v-btn>
                              
                              </v-col>
                            </v-row>
                          </v-card>
                        </v-col>
                      </v-row>
                      <v-pagination
                            v-if="searchResults.length > 0"
                            class="py-3"
                            color="deep-purple lighten-2"
                            v-model="addSearchCurrentPage"
                            :length="lengthOfAddCardSearch"
                            :total-visible="6"
                            @input="changePage">
                      </v-pagination>
                    </v-container>
                    <!--===== Pile/Cart Page =====-->
                    <v-container v-if="addCardSubPage == 'Pile'">
                      <!-- trying floating button -->
                      <!-- <v-btn
                            fab
                            dark
                            fixed
                            bottom
                            right
                            color="primary"
                            @click="toTop">
                          Get Locations
                      </v-btn>
                      <v-btn 
                            fab
                            dark
                            fixed
                            bottom
                            right
                            color="primary"
                            @click="toTop">
                          <v-icon>mdi-store-plus</v-icon>
                      </v-btn> -->
                      <v-container v-if="pileList.length == 0">
                        <h3 align="center">No Cards Added to Pile</h3>
                      </v-container>
                      <!-- top menu to manipulate whole pile -->
                      <v-container v-if="pileList.length > 0">
                        <v-row >
                          <v-col>
                            <v-card class="float-right mx-3">
                            
                            <v-btn @click="getLocation()" v-if="!pileLocations" :loading="isGettingLocations">Get Locations</v-btn>
                            <v-btn @Click="newCard(pileList)" v-else :loading="addPileLoading">Add to Inventory</v-btn>
                            
                            </v-card>
                          </v-col>
                        </v-row>
                        
                        <v-row>
                          <v-col v-for="(pileCard, index) in pileList">
                            <v-card width="350" class="my-3 justify-center">
                              <v-row>
                              <v-col>
                              <v-card width="146" class="mx-4">
    
                                <v-img
                                    height="204"
                                    :src="getSmallImgURI(pileCard)">
                                </v-img>
                              
                              </v-card>
                              </v-col>
                              <v-col>                               
                                <v-card-text class="pt-1 px-0">
                                  <v-row><v-col>
                                  Market Price: {{  getCardPrice(pileCard)  }}
                                  </v-col></v-row>
                                  <v-row>
                                    <v-col v-if="pileCard.editing">
                                      <v-select
                                          v-model="pileCard.condition"
                                          :items="conditions"
                                          menu-props="auto"
                                          label="Condition"
                                          hide-details
                                          single-line
                                          dense
                                          outlined>
                                      </v-select>
                                    </v-col>
                                    <v-col v-else>
                                      Condition: {{ pileCard.condition }}
                                    </v-col>
                                  </v-row>
                                  <v-row>
                                    <v-col v-if="pileCard.editing">
                                      <v-select
                                          v-model="pileCard.finish"
                                          :items="vFinishes(pileCard.finishes, index)"
                                          menu-props="auto"
                                          label="Finish"
                                          hide-details
                                          single-line
                                          dense
                                          outlined>
                                      </v-select>
                                    </v-col>
                                    <v-col  v-else>                                    
                                      Finish: {{ pileCard.finish }}
                                    </v-col>
                                  </v-row>
                                  <v-row>
                                    <v-col v-if="pileCard.editing">
                                      <v-text-field
                                          v-model="pileCard.location"
                                          label="Location"
                                          hide-details
                                          single-line
                                          dense
                                          outlined>
                                      </v-text-field>
                                    </v-col>
                                    <v-col v-else>
                                      Location: {{ getCardLocation(index) }}
                                    </v-col>
                                  </v-row>
                                </v-card-text>                                
                              </v-col>
                              </v-row>
                              <v-row>
                                <v-col align="center">
                                  <v-btn @Click="deleteCardFromPile(index)">Delete</v-btn>
                                  <v-btn v-if="pileCard.editing == true" @Click="saveCardFromEditingMode(pileList, index)">Save</v-btn>
                                  <v-btn v-else @Click="enterEditingMode(pileList, index)">Edit</v-btn>
                                  <v-btn @Click="duplicateCardFromPile(index)">Duplicate</v-btn>
                                </v-col>
                              </v-row>
                            </v-card>
                          </v-col>
                        </v-row>
                      </v-container>
                    </v-container>
                  </v-card>

                  <!--=== View Orders ===--->
                  <div id="view-orders" v-if="currentPage == 'View Orders'">
                    <div v-if="inStore == false">
                    <v-row class="justify-end">
                      <!-- <v-btn @click="viewOrderSubPage = 'inStore'" class="pa-6 my-6"><h3>In Store</h3></v-btn> -->
                      <v-btn @click="inStore = true" class="pa-6 my-6"><h3>In Store</h3></v-btn>
                    </v-row>
                    <v-row> 
                      <v-col v-for="(btn, index) in tableFilters"><v-chip x-large @click="currentTable = btn" class="px-16 py-6 grey lighten-1 white--text">{{ btn.toUpperCase() }}</v-chip></v-col> 
                    </v-row>

                    <template>
                      <v-simple-table class="mt-6">
                        <template v-slot:default>
                          <thead>
                            <tr>
                              <th width="300px" class="text-left">
                                Order Number
                              </th>
                              <th width="300px" class="text-left">
                                Direct
                              </th>
                              <th width="300px" class="text-left">
                                Status
                              </th>
                              <th width="50px" class="text-left"></th>
                            </tr>
                          </thead>
                          <tbody>
                            
                            <tr v-for="(order, index) in orderList"
                                  :key="order.name"
                                  :class="{'blue':order.direct}"
                                  @click="showOrder(order)">                            
                              <td v-if="checkOrder(order)">{{ order.number }}</td>
                              <td v-if="checkOrder(order)"> <v-icon v-if="order.direct" id="checkMark"> mdi-check-bold </v-icon> <v-icon v-else id="xOut">mdi-close-circle</v-icon> </td>
                              <td v-if="checkOrder(order)">{{ order.status }}</td>
                              <td v-if="checkOrder(order)"><v-checkbox v-model="order.progress"></v-checkbox></td>
                            </tr>
                          </tbody>
                        </template>
                      </v-simple-table>
                    </template>
                    <v-row class="justify-end">
                      <v-btn class="pa-6 my-6" @click="viewOrdersProgress"><h3>Progress</h3></v-btn>
                    </v-row>
                  </div>



                    <!-- ================IN STORE PAGE================== -->
                    <div id="in-store" v-if="inStore == true">
                      <div>
                      <v-container>
                        <!-- v-if="viewOrderSubPage = 'inStore'" -->
                        <!-- Container for Inventory Search Area -->
                        <v-container>
                          <v-row>
                            <v-col>
                              <!-- Search Inventory Text Input field -->
                              <v-text-field color="deep-purple lighten-2" outlined autofocus  hide-details label="Search for a Card" placeholder="Cards in Inventory" v-model="searchString"></v-text-field>
                            </v-col>
                            <v-col>
                              <!-- Submit Inventory Search Button-->
                              <v-btn class="mt-2" @click="searchInventory">Submit</v-btn>
                            </v-col>
                            </v-row>
                        </v-container>
                        <v-row>
                          <template>
                            <div class="text-center">
                              <v-dialog
                                v-model="dialog"
                                width="800"
                              >
                                <template v-slot:activator="{ on, attrs }">
                                  <v-container>
                                    <v-row>
                                      <v-col  v-else class="pr-0 pl-3" cols="auto" v-for="(item, index) in searchInventoryList">                      
                                        <v-card min-width="146" class="mx-4">
                
                                          <v-img
                                              @click="cardInfo = item; indCardInfo(cardInfo.cards[0]);"
                                              v-bind="attrs"
                                              v-on="on"
                                              height="204"
                                              :src="item.image_uris.small"
                                              contain>
                                          </v-img>
                                  
                                        </v-card>
                                      </v-col>
                                    </v-row> 
                                  </v-container>
                                </template>
                          
                                <v-card v-if="cardInfo" height="fit-content">
                                  <v-container>
                                      <v-row>
                                        <v-col>
                                  
                                  <v-card-title class="text-h5 grey lighten-2 justify-center">
                                    {{cardInfo.name}}
                                    
                                  </v-card-title>
                                        </v-col>
                                </v-row>
                                <v-row>
                                  <!-- <v-col> -->
                                    <v-sheet width="550" 
                                    v-scroll.self="onScroll"
                                    class="overflow-y-auto"
                                    max-height="400"
                                    >
                                <v-col width="550">
                                <v-row>
                                  
                                  
                                  <v-col v-for="(cards, index) in cardInfo.cards">
                                  <v-img v-if="cardInfo.cards.length == 1" class="mb-6 justify-center" :src="cardInfo.image_uris.normal" max-height="350" contain></v-img>
                                  <v-img v-if="cardInfo.cards.length > 1" class="" @click="indCardInfo(cardInfo.cards[index])" :src="cardInfo.image_uris.small" contain max-height="250"></v-img>
                                
                                  </v-col>
                                
                                </v-row>
                                  </v-col>
                                </v-sheet>
                                <v-divider vertical></v-divider>
                                  
                                    
                                  <v-col width="250">
                                    <v-card-text>
                                      <b>Location: </b>{{indCard.location}}
                                    </v-card-text>
                                    <v-card-text>
                                      <b>Condition: </b>{{indCard.condition}}
                                    </v-card-text>
                                    <v-card-text v-if="indCard.foil">
                                      <b>Foil: </b>Yes
                                    </v-card-text>
                                    <v-card-text v-else>
                                      <b>Foil: </b>No
                                    </v-card-text>
                                  <v-card-text v-if="indCard.price == null || indCard.price == ''">
                                    <b>Price Unavailable</b>
                                  </v-card-text>
                                  <v-card-text v-else>
                                    <b>Price: </b>${{indCard.price}}
                                  </v-card-text>
                                  <v-card-text>
                                    <b>Quantity: </b>{{cardInfo.quantity.physical}} <br> - <b>Available: </b>{{cardInfo.quantity.available}} <br> - <b>Reserved: </b>{{cardInfo.quantity.reserved}}
                                  </v-card-text>
                                  <!-- <v-card-text>
                                    Scryfall Link: {{cardInfo.card.scryfall_uri}}
                                  </v-card-text> -->
                                  </v-col>
                                <!-- </v-col> -->
                                
                                </v-row>
                                  </v-container>
                                
                          
                                  <v-divider></v-divider>
                          
                                  <v-card-actions>
                                    <v-spacer></v-spacer>
                                    <v-btn
                                      color="primary"
                                      text
                                      @click="dialog = false"
                                    >
                                      Done
                                    </v-btn>
                                  </v-card-actions>
                                </v-card>
                                
                              </v-dialog>
                            </div>
                          </template>
                        </v-row>
                      </v-container>
                      </div>
                      <!-- =============== In Store Buy Table================= -->
                      <div>
                        <v-row>
                          <v-col>
                        <template>
                          <v-simple-table class="mt-6">
                            <template v-slot:default>
                              <thead>
                                <tr>
                                  <th width="350px" class="text-left">
                                    Name
                                  </th>
                                  <th width="200px" class="text-left">
                                    Foil
                                  </th>
                                  <th width="200px" class="text-left">
                                    Condition
                                  </th>
                                  <th width="125px" class="text-left">Price</th>
                                  <th width="50px" class="text-left">Remove</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr v-for="(card, index) in inStorePile"
                                      :key="card.name"
                                      :class="{'blue':order.direct}">                            
                                  <td>{{card.name}}</td>
                                  <td>{{card.foil}}</td>
                                  <td>{{card.condition}}</td>
                                  <td>{{card.price}}</td>
                                  <td><v-checkbox></v-checkbox></td>
                                </tr>
                              </tbody>
                            </template>
                          </v-simple-table>
                        </template>
                     
                      </v-row>
                      <v-row class="justify-end mt-6">
                      
                        <v-btn class="pa-6" @click="inStorePostOrder"><h2>BUY</h2></v-btn>
                      </v-col>
                      </v-row>
                      </div>




                    </div>






                  </div>

                    <!--=== Add Order Page ===-->
                    <div id="add-orders" v-if="currentPage == 'Add Order'">
                      <button @click="addOrderSubPage = 'searchCard'" :disabled="addOrderSubPage == 'searchCard'">search an order</button>
                      <button @click="addOrderSubPage = 'addToPile'" :disabled="addOrderSubPage == 'addToPile'">confirm add</button>
                      <button @click="addOrderSubPage = 'pile'" :disabled="addOrderSubPage == 'pile'">my pile</button>
                      <div class="search-card" v-if="addOrderSubPage == 'searchCard'">
                        Search Card
                      </div>
                      <div class="add-to-pile" v-if="addOrderSubPage == 'addToPile'">
                        Add To Pile
                      </div>
                      <div class="pile" v-if="addOrderSubPage == 'pile'">
                        Pile
                        <!-- <div v-for="card in orders">{{ orderCard }}</div> --> 
                        Order Number: <input v-model="orderNumber" type="text">
                        Total Price: $<input v-model="orderPrice" type="text">
                        Direct? <input type="checkbox" v-model="directStatus">
                        <button @click="newOrder()">Add to Inventory</button>
                      </div>
                    </div>
                  </div>
                </v-container>
              </v-sheet>
            </main>        
          </v-container>
        </v-card>
      </v-app>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.x/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.js"></script>
    <script src="app.js"></script>
  </body>
</html>